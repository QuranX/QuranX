@using QuranX.Web.Models
@using QuranX.Persistence.Models
@using QuranX.Web.Views.QuranVerses
@model ViewModel

@{
	ViewBag.Title = "The Noble Qur'an";
}

<h1>@ViewBag.Title</h1>
@{ Html.RenderPartial("SelectChapterAndVerse", Model.SelectChapterAndVerse); }
@foreach (ChapterAndVerseSelection group in Model.DisplayVerses)
{
	<h2>@group.Chapter.EnglishName - @group.Chapter.ArabicName</h2>
	foreach (Verse verse in group.Verses)
	{
		<div class="row">
			<span class="verse-reference">@(verse.ChapterNumber).@(verse.VerseNumber)</span>
			<a href="analysis/@(verse.ChapterNumber).@(verse.VerseNumber)">
				<dl class="count-and-label">
					<dd>@verse.RootWordCount</dd>
					<dt>Roots</dt>
				</dl>
			</a>
			@if (verse.CommentaryCount > 0)
			{
				<a href="tafsirs/@(verse.ChapterNumber).@(verse.VerseNumber)">
					<dl class="count-and-label">
						<dd>@verse.CommentaryCount</dd>
						<dt>Tafirs</dt>
					</dl>
				</a>
			}
			@if (verse.HadithCount > 0)
			{
				<a href="hadiths/@(verse.ChapterNumber).@(verse.VerseNumber)">
					<dl class="count-and-label">
						<dd>@verse.HadithCount</dd>
						<dt>Hadiths</dt>
					</dl>
				</a>
			}
		</div>
		foreach (VerseText translation in verse.VerseTexts)
		{
		<dl class="boxed">
			<dt>@translation.TranslatorName</dt>
			<dd>@translation.Text</dd>
		</dl>
		}
	}
}